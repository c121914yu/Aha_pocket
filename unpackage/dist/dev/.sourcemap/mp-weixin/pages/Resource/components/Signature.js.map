{"version":3,"sources":[null,"webpack:///D:/服务外包/竞赛统计/pages/Resource/components/Signature.vue?15d4","webpack:///D:/服务外包/竞赛统计/pages/Resource/components/Signature.vue?1e3c","webpack:///D:/服务外包/竞赛统计/pages/Resource/components/Signature.vue?45d8","uni-app:///pages/Resource/components/Signature.vue","webpack:///D:/服务外包/竞赛统计/pages/Resource/components/Signature.vue?867b","webpack:///D:/服务外包/竞赛统计/pages/Resource/components/Signature.vue?464a"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACwC;;;AAGhG;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsBvnB;AACA,MADA,kBACA;AACA;AACA,gBADA,EACA;AACA,gBAFA,EAEA;AACA,aAHA,EAGA;AACA,gBAJA,CAIA;AAJA;AAMA,GARA;AASA;AACA;;;;;AAKA,cANA,wBAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAbA;AAcA;;;;;AAKA,cAnBA,sBAmBA,CAnBA,EAmBA;AACA;AACA;AACA;AACA,iBADA;AAEA,iBAFA;;AAIA;AACA;AACA;AACA,KA7BA;AA8BA;;;;;;;AAOA,aArCA,qBAqCA,CArCA,EAqCA;AACA;AACA;AACA;AACA,gBADA;AAEA,gBAFA;;AAIA;AACA;AACA;AACA;AACA,KAhDA;AAiDA;;;;;AAKA,YAtDA,sBAsDA;AACA;AACA,KAxDA;AAyDA;;;;;;;;;;AAUA,QAnEA,kBAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9EA;AA+EA;;;;;AAKA,SApFA,mBAoFA;AACA;AACA;AACA,KAvFA;AAwFA,WAxFA,qBAwFA;AACA;AACA,yBADA;;AAGA;AACA,mCADA;AAEA,uBAFA;AAGA,kBAHA;AAIA;AACA;AACA,SANA;AAOA;AACA;AACA,SATA;AAUA;AACA;AACA,SAZA;AAaA,UAbA;AAcA,KA1GA,EATA;;AAqHA,SArHA,qBAqHA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA,GA7HA,E;;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAmoC,CAAgB,8mCAAG,EAAC,C;;;;;;;;;;;ACAvpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Resource/components/Signature.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Signature.vue?vue&type=template&id=1e3d3e77&scoped=true&\"\nvar renderjs\nimport script from \"./Signature.vue?vue&type=script&lang=js&\"\nexport * from \"./Signature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signature.vue?vue&type=style&index=0&id=1e3d3e77&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e3d3e77\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Resource/components/Signature.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Signature.vue?vue&type=template&id=1e3d3e77&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Signature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Signature.vue?vue&type=script&lang=js&\"","<!-- 电子前面 -->\r\n<template>\n\t<view class=\"signature\">\r\n\t\t<canvas\r\n\t\t\tcanvas-id=\"signatureCanvas\"\r\n\t\t\tclass=\"canvas\"\r\n\t\t\t@touchstart=\"touchstart\" \r\n\t\t\t@touchmove=\"touchmove\" \r\n\t\t\t@touchend=\"touchend\">\r\n\t\t</canvas>\r\n\t\t<view class=\"btns\">\r\n\t\t\t<button @click=\"confirm\">完成</button>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"clear\"\r\n\t\t\t\t@click=\"clear\">\r\n\t\t\t\t清空\r\n\t\t\t</button>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\r\n\t\t\tcanvasW: 0, // 画布宽\r\n\t\t\tcanvasH: 0, // 画布高\r\n\t\t\tctx: \"\", // 画笔\n\t\t\tpoints: [], //路径点集合 \n\t\t}\n\t},\r\n\tmethods: {\r\n\t\t/* \r\n\t\t\tname: 初始化画布\r\n\t\t\tdesc: 初始化画笔，设置画笔样式\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\tinitCanvas() {\r\n\t\t\t//创建绘图对象\r\n\t\t\tthis.ctx = uni.createCanvasContext(\"signatureCanvas\", this)\r\n\t\t\t//设置画笔样式\r\n\t\t\tthis.ctx.lineWidth = 3\r\n\t\t\tthis.ctx.lineCap = \"round\"\r\n\t\t\tthis.ctx.lineJoin = \"round\"\r\n\t\t},\r\n\t\t/*\r\n\t\t\tname: 触摸开始\r\n\t\t\tdesc: 获取触摸的坐标，并让画笔重新进入绘制状态\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\ttouchstart(e) {\r\n\t\t\tlet startX = e.changedTouches[0].x\r\n\t\t\tlet startY = e.changedTouches[0].y\r\n\t\t\tlet startPoint = {\r\n\t\t\t\tX: startX,\r\n\t\t\t\tY: startY\r\n\t\t\t}\r\n\t\t\tthis.points.push(startPoint)\r\n\t\t\t//每次触摸开始，开启新的路径\r\n\t\t\tthis.ctx.beginPath()\r\n\t\t},\r\n\t\t/*\r\n\t\t\tname: 触摸移动\r\n\t\t\tdesc: 获取触摸的坐标，将坐标点添加到points绘制点中，触发draw绘制方式\r\n\t\t\tchange:\r\n\t\t\t\t\t\t\tthis.points: Array,待绘制的点\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\ttouchmove(e) {\r\n\t\t\tlet moveX = e.changedTouches[0].x\r\n\t\t\tlet moveY = e.changedTouches[0].y\r\n\t\t\tlet movePoint = {\r\n\t\t\t\tX: moveX,\r\n\t\t\t\tY: moveY\r\n\t\t\t}\r\n\t\t\tthis.points.push(movePoint)\r\n\t\t\tif (this.points.length >= 2) {\r\n\t\t\t\tthis.draw()\r\n\t\t\t}\r\n\t\t},\r\n\t\t/*\r\n\t\t\tname: 触摸结束\r\n\t\t\tdesc: 清空待绘制点\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\ttouchend() {\r\n\t\t\tthis.points = []\r\n\t\t},\r\n\t\t/*\r\n\t\t\tname: 绘制点\r\n\t\t\tdesc: 根据待绘制的点points中第一和第二个元素绘制一条直线，并将第一个点去掉\r\n\t\t\t\t\t\t第二次绘制时，将第二个点作为起点。\r\n\t\t\tinput:\r\n\t\t\t\t\t\tthis.points: Array,待绘制点\r\n\t\t\tchange:\r\n\t\t\t\t\t\tthis.points: Array,待绘制点\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\tdraw() {\r\n\t\t\t/* 获取两个点坐标 */\r\n\t\t\tlet point1 = this.points[0]\r\n\t\t\tlet point2 = this.points[1]\r\n\t\t\t/* 去除掉待绘制的第一个点 */\r\n\t\t\tthis.points.shift()\r\n\t\t\t/* 绘制直线 */\r\n\t\t\tthis.ctx.moveTo(point1.X, point1.Y)\r\n\t\t\tthis.ctx.lineTo(point2.X, point2.Y)\r\n\t\t\tthis.ctx.stroke()\r\n\t\t\tthis.ctx.draw(true)\r\n\t\t},\r\n\t\t/*\r\n\t\t\tname: 清空画布\r\n\t\t\tdesc: 绘制空图清空画笔\r\n\t\t\ttime: 2020/10/27\r\n\t\t*/\r\n\t\tclear() {\r\n\t\t\tthis.ctx.clearRect(0, 0, this.canvasW, this.canvasH)\r\n\t\t\tthis.ctx.draw(true)\r\n\t\t},\r\n\t\tconfirm() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: \"生成签名中...\"\r\n\t\t\t})\r\n\t\t\tthis.ctx.draw(false,uni.canvasToTempFilePath({\r\n\t\t\t\tcanvasId: \"signatureCanvas\",\r\n\t\t\t\tfileType: \"jpg\",\r\n\t\t\t\tquality: 1,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.$emit(\"confirm\",res.tempFilePath)\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tthis.gToastError(\"生成失败\")\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},this))\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tthis.canvasW = res.windowWidth\r\n\t\t\t  this.canvasH = res.windowHeight\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.initCanvas()\r\n\t}\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.signature\r\n\tz-index 15\r\n\tposition fixed\r\n\ttop 0\r\n\tleft 0\r\n\twidth 100vw\r\n\theight 100vh\r\n\tpadding 2px\r\n\tbackground-color #FFFFFF\r\n\tdisplay flex\r\n\tflex-direction column\r\n\t.canvas\r\n\t\twidth calc(100% - 4px)\r\n\t\tflex 1\r\n\t\tborder 1px solid rgba(144,140,139,0.65)\r\n\t.btns\r\n\t\tdisplay flex\r\n\t\tjustify-content space-around\r\n\t\tborder-radius 5px\r\n\t\tbutton\r\n\t\t\twidth 30%\r\n\t\t.clear\r\n\t\t\tbackground-color transparent\r\n\t\t\tcolor var(--origin4)\r\n\t\t\tborder 1px solid var(--origin4)\r\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Signature.vue?vue&type=style&index=0&id=1e3d3e77&lang=stylus&scoped=true&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Signature.vue?vue&type=style&index=0&id=1e3d3e77&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603811745603\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
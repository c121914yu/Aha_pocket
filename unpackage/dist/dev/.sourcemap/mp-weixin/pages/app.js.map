{"version":3,"sources":["uni-app:///main.js","webpack:///D:/服务外包/竞赛统计/pages/app.vue?b9f7","webpack:///D:/服务外包/竞赛统计/pages/app.vue?381e","webpack:///D:/服务外包/竞赛统计/pages/app.vue?b662","webpack:///D:/服务外包/竞赛统计/pages/app.vue?d424","uni-app:///pages/app.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kF;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;;;AAGlD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA6lB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6CjnB;AACA,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+yEAQA,EACA,cACA,0BADA,EACA;AACA,yBAFA,EAEA;AACA,mCAHA,EAGA;AACA,+BAJA,EAIA;AACA,mCALA,EAKA;AACA,iCANA,EAMA;AACA,gBAPA,CAOA;AAPA,GADA,EAUA,IAVA,kBAUA,CACA,SACA,iBADA,EAEA;AACA,2CADA,EAEA,oCAFA,EAGA,mCAHA,EAIA,+BAJA,CAFA,EAQA,aARA,EASA,2DATA,CASA;AATA,MAWA,CAtBA,EAuBA,SACA;;;qBAIA,yCACA,cACA,iBACA,2BACA,2BACA,2BACA,2BAJA,CAMA,4BACA,WADA,IAGA,CAhBA,EAvBA,EAyCA,MAzCA,oBAyCA,CACA,2CADA,CAEA,YACA,oBACA,2BACA,gBACA,0BACA;AACA,GAjDA;AAkDA,QAlDA,oBAkDA;AACA;AACA;AACA;AACA;AACA,GAvDA;AAwDA,eAxDA,2BAwDA;AACA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBARA;;AAUA;AACA,GAzEA;AA0EA,mBA1EA,6BA0EA,CA1EA,EA0EA;AACA;AACA,oBADA;AAEA,0EAFA;AAGA,iHAHA;;AAKA,GAhFA;AAiFA;AACA;;;AAGA,eAJA,uBAIA,CAJA;AAKA;AACA;AACA;AACA;AACA;AACA,KAVA;AAWA;;;AAGA,sBAdA;AAeA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAtBA;AAuBA;;;;AAIA,iBA3BA,yBA2BA,IA3BA;AA4BA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,sBAFA;;AAIA;AACA,8BANA;AAOA;AACA;AACA,uBADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA,KA/CA;AAgDA;;;AAGA,YAnDA;AAoDA;AACA;AACA;AACA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA9DA;AA+DA;;;AAGA,eAlEA;AAmEA;AACA;AACA;AACA,KAtEA,EAjFA,E","file":"pages/app.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/app.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./app.vue?vue&type=template&id=640470b8&\"\nvar renderjs\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/app.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app.vue?vue&type=template&id=640470b8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.is_canSlide = $event\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app.vue?vue&type=script&lang=js&\"","<!-- \r\n\t自定义首页\r\n\tauthor: yjl\r\n -->\r\n<template>\r\n\t<view class=\"app\" @touchmove=\"ontouchMove\">\r\n\t\t<!-- 用户须知 -->\r\n\t\t<user-aggrement\r\n\t\t\tv-if=\"!is_signedNotice\"\r\n\t\t\t@readed=\"successSign\">\r\n\t\t</user-aggrement>\r\n\t\t<!-- 系统公告 -->\r\n\t\t<system-notice \r\n\t\t\tref=\"systemNotice\" \r\n\t\t\t@isSlide=\"is_canSlide=$event\">\r\n\t\t</system-notice>\r\n\t\t<!-- 底部导航 -->\r\n\t\t<aha-tabar :currentNav=\"currentNav\" @navigate=\"onclickTabBar\"></aha-tabar>\r\n\t\t<!-- 项目主页 -->\r\n\t\t<project-hone \r\n\t\t\tref=\"projectHome\"\r\n\t\t\tv-if=\"navs[0].loaded\"\r\n\t\t\tv-show=\"currentNav === 0\">\r\n\t\t</project-hone>\r\n\t\t<!-- 竞赛交流主页 -->\r\n\t\t<interflow-home\r\n\t\t\tref=\"interflowHome\"\r\n\t\t\tv-if=\"navs[1].loaded\"\r\n\t\t\tv-show=\"currentNav === 1\">\r\n\t\t</interflow-home>\r\n\t\t<!-- 实践主页 -->\r\n\t\t<practice-home\r\n\t\t\tv-if=\"navs[2].loaded\"\r\n\t\t\tv-show=\"currentNav === 2\">\r\n\t\t</practice-home>\r\n\t\t<!-- 个人 -->\r\n\t\t<self\r\n\t\t\tref=\"Self\"\r\n\t\t\tv-if=\"navs[3].loaded\"\r\n\t\t\tv-show=\"currentNav === 3\">\r\n\t\t</self>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getAllCompetition } from \"@/static/request/api_competition.js\"\r\nimport { getUnreadCount } from '@/static/request/api_userInfo.js'\r\nimport AhaNotice from \"./System/AhaNotice.vue\"\r\nimport AhaTabar from \"./System/AhaTabar.vue\"\r\nimport UserAgreement from \"./Self/Number/components/UserAgreement.vue\"\r\nimport ProjectHome from \"./Project/ProjectHome.vue\"\r\nimport InterflowHome from \"./Interflow/InterflowHome\"\r\nimport PracticeHome from \"./Practice/PracticeHome\"\r\nimport Self from \"./Self/Self\"\r\nexport default {\r\n\tcomponents:{\r\n\t\t\"system-notice\": AhaNotice, // 系统公告\r\n\t\t\"aha-tabar\": AhaTabar, // 自定义导航\r\n\t\t\"user-aggrement\": UserAgreement, // 用户协议弹窗\r\n\t\t\"project-hone\": ProjectHome, //项目主页\r\n\t\t\"interflow-home\": InterflowHome,// 竞赛交流主页\r\n\t\t\"practice-home\": PracticeHome, // 实践主页\r\n\t\t\"self\": Self, // 个人主页\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tis_canSlide: true,\r\n\t\t\tnavs: [ // 利用loaded实现类似keep-alive效果\r\n\t\t\t\t{name: \"ProjectHome\",loaded: true},\r\n\t\t\t\t{name: \"Interflow\",loaded: false},\r\n\t\t\t\t{name: \"Practice\",loaded: false},\r\n\t\t\t\t{name: \"Self\",loaded: false},\r\n\t\t\t],\r\n\t\t\tcurrentNav: 0,\r\n\t\t\tis_signedNotice: getApp().globalData.gUserInfo.signedNotice, // 是否已经签署用户协议\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t/**\r\n\t\t * 路由切换，修改对应的头部文字\r\n\t\t * @param {Number} newNav\r\n\t\t */\r\n\t\tcurrentNav: function(newNav){\r\n\t\t\tlet text = \"\"\r\n\t\t\tswitch(newNav){\r\n\t\t\t\tcase 0: text=\"项目分享\";break;\r\n\t\t\t\tcase 1: text=\"竞赛交流\";break;\r\n\t\t\t\tcase 2: text=\"技能实践\";break;\r\n\t\t\t\tcase 3: text=\"个人信息\";break;\r\n\t\t\t}\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: text\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tconsole.log(getApp().globalData.gUserInfo);\r\n\t\t/* 隐藏返回主页 */\r\n\t\twx.hideHomeButton()\r\n\t\tif(this.is_signedNotice){\r\n\t\t\tthis.loadNeed()\r\n\t\t\tthis.judgeUnreadInforms()\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\t/* 更新个人页未读 */\r\n\t\tif(this.$refs.Self){\r\n\t\t\tthis.$refs.Self.getUnread()\r\n\t\t}\r\n\t},\r\n\tonReachBottom(){\r\n\t\t/* 加载更多项目 */\r\n\t\tif(this.currentNav === 0){\r\n\t\t\tthis.$refs.projectHome.loadMore()\r\n\t\t}\r\n\t\telse if(this.currentNav === 1){\r\n\t\t\tswitch(this.$refs.interflowHome.currentNav){\r\n\t\t\t\t/* 人才市场 */\r\n\t\t\t\tcase 0: \r\n\t\t\t\t\tthis.$refs.interflowHome.$refs.Talents.reachBottom()\r\n\t\t\t\t\tbreak\r\n\t\t\t\t/* 组队 */\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.$refs.interflowHome.$refs.Teams.loadTeams()\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonShareAppMessage(e){\r\n\t\treturn {\r\n\t\t\ttitle: \"Aha口袋\",\r\n\t\t\tpath: `pages/Login/Login?token=${uni.getStorageSync('token')}`,\r\n\t\t\tdesc: `${getApp().globalData.gUserInfo.userInfo.nickname}邀您加入Aha口袋`\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 滑动事件\r\n\t\t */\r\n\t\tontouchMove(e)\r\n\t\t{\r\n\t\t\t/* 阻止滑动 */\r\n\t\t\tif(!this.is_canSlide) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 判断是否有未读，如果有未读，提示是否需要跳转消息通知\r\n\t\t */\r\n\t\tjudgeUnreadInforms()\r\n\t\t{\r\n\t\t\tgetUnreadCount()\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.data > 0) {\r\n\t\t\t\t\tthis.gToastMsg(`您有${res.data}条未读通知!`,false,2000)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 点击tabbar，切换路由\r\n\t\t * @param {String} name 路由名\r\n\t\t */\r\n\t\tonclickTabBar(name)\r\n\t\t{\r\n\t\t\tconst index = this.navs.findIndex(item => item.name === name)\r\n\t\t\t/* 如果不是点击当前路由，则回到顶部 */\r\n\t\t\tif(index !== this.currentNav){\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tscrollTop: 0 \r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t/* 位于项目页，且点击当前路由，刷新项目 */\r\n\t\t\telse if(index === 0 && index === this.currentNav){\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tscrollTop: 0 \r\n\t\t\t\t})\r\n\t\t\t\tthis.$refs.projectHome.loadProjects(true)\r\n\t\t\t}\r\n\t\t\tthis.currentNav = index\r\n\t\t\tthis.navs[this.currentNav].loaded = true\r\n\t\t},\r\n\t\t/**\r\n\t\t * 加载所有依赖\r\n\t\t */\r\n\t\tloadNeed()\r\n\t\t{\r\n\t\t\t/* 加载系统公告 */\r\n\t\t\tthis.$refs.systemNotice.loadNotice()\r\n\t\t\t/* 加载比赛信息 */\r\n\t\t\tgetAllCompetition()\r\n\t\t\t.then(res => {\r\n\t\t\t    getApp().globalData.garr_competitions = res.data\r\n\t\t\t\t/* 加载项目列表 */\r\n\t\t\t\tthis.$refs.projectHome.loadProjects(true)\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 完成协议签署,重新加载依赖\r\n\t\t */\r\n\t\tsuccessSign()\r\n\t\t{\r\n\t\t\tthis.is_signedNotice = true\r\n\t\t\tthis.loadNeed()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":""}